<template>
	<lightning-card>
		<div class="slds-m-around_medium">
			<div if:true={isLoading} class="slds-is-relative">
				<lightning-spinner alternative-text="Loading..." variant="brand">
				</lightning-spinner>
			</div>
			<table class="slds-table slds-table_cell-buffer slds-table_bordered"
				aria-labelledby="element-with-table-label other-element-with-table-label" style="width: fit-content;">
				<thead>
					<div class="slds-box slds-m-bottom_small">
						<p>
							<i>
                            <b>Note:</b>
                        </i> Please select the objects you would like to track the records after permanemt delete.
						</p>
					</div>
					<tr class="slds-line-height_reset">
						<th class="" scope="col" style="width: 10%;">
							<div class="slds-truncate" title="Action">ACTION</div>
						</th>
						<th class="" scope="col" style="left: 7%;">
							<div class="slds-truncate" title="Object Name">OBJECT NAME</div>
						</th>
					</tr>
				</thead>
				<tbody>
					<template for:each={objectRecordList} for:item="obj">
						<tr class="slds-hint-parent" key={obj.Id}>
							<th data-label="Action" scope="row">
								<lightning-icon data-id={obj.Id} title="Delete" onclick={handleActionDelete}
									size="x-small" class="iconenablepointerevetns slds-icon slds-input__icon"
									icon-name="action:delete"></lightning-icon>
							</th>
							<td data-label="Account Name">
								<template lwc:if={obj.Name}>
									<lightning-formatted-text value={obj.Name} style="padding: 8%;">
									</lightning-formatted-text>
								</template>
								<template lwc:else>
									<lightning-combobox data-id={obj.Id} name="Object Name" value={obj.Name}
										options={getAllObjectList} onchange={handleChange}></lightning-combobox>
								</template>
								<!-- </template>-->
							</td>
						</tr>
					</template>
				</tbody>
			</table>
			<div slot="footer" class="slds-var-m-vertical_medium">
				<lightning-button label={label.AddNewButton} variant="brand" onclick={addRow}
					class="slds-m-right_small"></lightning-button>
				<template if:true={isSaveBtnVisible}>
					<lightning-button variant="brand" label={label.Save_rbin} name="Save" onclick={onsaveclickHandler}>
					</lightning-button>
				</template>
			</div>
		</div>
	</lightning-card>
</template>